# 繝輔Ο繝ｳ繝医お繝ｳ繝牙ｮ溯｡後・繝ｭ繧ｻ繧ｹ隗｣隱ｬ

縺薙・繝峨く繝･繝｡繝ｳ繝医・ `frontend/src` 繧剃ｸｭ蠢・→縺励◆ UI 蛛ｴ縺ｮ豬√ｌ縺ｨ荳ｻ隕√さ繝ｳ繝昴・繝阪Φ繝医ｒ謚頑升縺吶ｋ縺溘ａ縺ｮ繧ゅ・縺ｧ縺吶ゅΘ繝ｼ繧ｶ繝ｼ謫堺ｽ懊°繧峨し繝ｼ繝舌・蠢懃ｭ斐・陦ｨ遉ｺ縺ｾ縺ｧ縲√←縺ｮ髢｢謨ｰ縺後←繧薙↑蠖ｹ蜑ｲ繧呈球縺・°繧偵せ繝・ャ繝怜ｽ｢蠑上〒縺ｾ縺ｨ繧√※縺・∪縺吶・

## 1. 蜈ｨ菴薙ヵ繝ｭ繝ｼ・医せ繝・ャ繝励ヰ繧､繧ｹ繝・ャ繝暦ｼ・

1. **繧ｨ繝ｳ繝医Μ繝昴う繝ｳ繝医・蛻晄悄蛹・*  
   - `main.tsx` (`frontend/src/main.tsx`)  
   - `ReactDOM.createRoot(...).render(<App />)` 縺ｫ繧医ｊ繝ｫ繝ｼ繝医さ繝ｳ繝昴・繝阪Φ繝・`App` 繧偵・繧ｦ繝ｳ繝医ＡReact.StrictMode` 荳九〒髢狗匱譎ゅ・隴ｦ蜻頑､懃衍繧り｡後ｏ繧後ｋ縲・

2. **蛻晄悄迥ｶ諷九・繧ｻ繝・ヨ繧｢繝・・**  
   - `App.tsx` (`frontend/src/App.tsx`) 蜀・Κ縺ｮ `useState` 縺ｧ繝輔か繝ｼ繝繧・ｱ･豁ｴ縲√ヤ繝ｼ繝ｫ繝ｪ繧ｹ繝医↑縺ｩ縺ｮ迥ｶ諷九ｒ逕ｨ諢上・ 

3. **繝ｦ繝ｼ繧ｶ繝ｼ蜈･蜉帙・蜿朱寔**  
   - 繧ｿ繧ｹ繧ｯ蜈･蜉帙ヵ繧｣繝ｼ繝ｫ繝峨→繝輔ぃ繧､繝ｫ驕ｸ謚・(`<input type="file" multiple />`) 繧・`App` 縺御ｿ晄戟縲・ 
   - `FilePreviewList` 繧ｳ繝ｳ繝昴・繝阪Φ繝医〒驕ｸ謚樊ｸ医∩繝輔ぃ繧､繝ｫ繧定｡ｨ遉ｺ縺励∝粋險医し繧､繧ｺ縺ｪ縺ｩ繧堤ｮ怜・縲・ 
   - 繝・ヰ繝・げ繧・ラ繝ｩ繧､繝ｩ繝ｳ縺ｮ繝輔Λ繧ｰ繧偵ヨ繧ｰ繝ｫ縺ｧ險ｭ螳壼庄閭ｽ縲・

4. **繝輔か繝ｼ繝騾∽ｿ｡蜃ｦ逅・*  
   - `handleSubmit` 縺・`<form onSubmit={handleSubmit}>` 縺九ｉ蜻ｼ縺ｰ繧後ｋ縲・ 
   - 繧ｿ繧ｹ繧ｯ譁・→驕ｸ謚槭ヵ繧｡繧､繝ｫ繧・`FormData` 縺ｫ隧ｰ繧√√け繧ｨ繝ｪ繝代Λ繝｡繝ｼ繧ｿ・・debug` / `dryRun` 縺ｪ縺ｩ・峨ｒ莉倅ｸ弱＠縺・URL 縺ｧ `/api/tasks` 縺ｫ POST縲・ 
   - 騾∽ｿ｡譎ょ綾縺ｨ驕ｸ謚槭ヵ繧｡繧､繝ｫ諠・ｱ繧剃ｿ晄戟縺励√Ξ繧ｹ繝昴Φ繧ｹ蠕・■縺ｮ髢薙・ `isSubmitting` 繝輔Λ繧ｰ縺ｧ UI 繧偵Ο繝・け縲・

5. **繧ｵ繝ｼ繝舌・蠢懃ｭ斐・蜃ｦ逅・*  
   - 蠢懃ｭ・JSON 繧定ｧ｣譫舌＠縲∵・蜉滓凾縺ｯ `history` 繧ｹ繝・・繝医↓譁ｰ縺励＞繧ｨ繝ｳ繝医Μ繧定ｿｽ蜉縲ゅ・繝ｩ繝ｳ諠・ｱ (`plan` / `rawPlan`)縲√ヵ繧ｧ繝ｼ繧ｺ螻･豁ｴ縲∫函謌千黄諠・ｱ縺ｪ縺ｩ繧偵∪縺ｨ繧√※菫晄戟縲・ 
   - 螟ｱ謨玲凾縺ｯ `error` 繝｡繝・そ繝ｼ繧ｸ繧定｡ｨ遉ｺ縺励▽縺､螻･豁ｴ縺ｫ繧ょ､ｱ謨励お繝ｳ繝医Μ繧定ｿｽ蜉縲ゅし繝ｼ繝舌・蛛ｴ縺ｧ `debug` 繧定ｿ斐＠縺溷ｴ蜷医・ `debugDrawer` 縺ｧ髢ｲ隕ｧ蜿ｯ閭ｽ縲・

6. **邨先棡陦ｨ遉ｺ**  
   - 繝｡繧､繝ｳ繝薙Η繝ｼ縺ｧ縺ｯ逶ｴ霑代・邨先棡繧・`ResultPanel`・医い繝励Μ蜀・未謨ｰ・峨〒蜿ｯ隕門喧縲・ 
   - `PhaseTimeline` 縺後し繝ｼ繝舌・縺九ｉ霑斐＆繧後◆繝輔ぉ繝ｼ繧ｺ騾ｲ陦檎憾豕√ｒ繧ｿ繧､繝繝ｩ繧､繝ｳ陦ｨ遉ｺ縲・ 
   - `OutputList` 縺檎函謌舌ヵ繧｡繧､繝ｫ縺ｮ荳隕ｧ繧偵ユ繝ｼ繝悶Ν縺ｧ陦ｨ遉ｺ縺励∝・髢九ヱ繧ｹ縺後≠繧後・繝ｪ繝ｳ繧ｯ蛹悶・ 
   - 荳矩Κ縺ｮ `HistoryList` 縺ｧ驕主悉螳溯｡後・邁｡譏灘ｱ･豁ｴ繧貞盾辣ｧ蜿ｯ閭ｽ縲・

7. **繝・ヰ繝・げ諠・ｱ縺ｮ螻暮幕**  
   - `debugEnabled` 縺後が繝ｳ縺ｮ縺ｨ縺阪√し繝ｼ繝舌・縺九ｉ霑斐＆繧後◆ `rawPlan` 繧・`responseText` / `debug` 諠・ｱ繧偵し繧､繝峨ラ繝ｭ繝ｯ繝ｼ縺ｧ陦ｨ遉ｺ縲・ 
   - `PlanView` 縺ｨ `RawJsonViewer`・・pp.tsx 蜀・・繝ｦ繝ｼ繝・ぅ繝ｪ繝・ぅ・峨′ JSON 繧呈紛蠖｢陦ｨ遉ｺ縲・

8. **繝輔か繝ｼ繝縺ｮ繝ｪ繧ｻ繝・ヨ縺翫ｈ縺ｳ蜀榊ｮ溯｡・*  
   - 謌仙粥譎ゅ・ `resetForm` 縺後ち繧ｹ繧ｯ縺ｨ繝輔ぃ繧､繝ｫ驕ｸ謚槭ｒ繧ｯ繝ｪ繧｢縲ょ､ｱ謨玲凾縺ｯ蜈･蜉帙ｒ菫晄戟縺励※蜀埼√〒縺阪ｋ繧医≧縺ｫ縺吶ｋ縲・ 
   - `history` 縺ｫ菫晏ｭ倥＆繧後◆繧ｨ繝ｳ繝医Μ繧偵け繝ｪ繝・け縺吶ｋ縺ｨ隧ｳ邏ｰ繧貞・陦ｨ遉ｺ・・handleSelectHistoryEntry`・峨・

## 2. 荳ｻ縺ｪ繧ｳ繝ｳ繝昴・繝阪Φ繝医→髢｢謨ｰ縺ｮ蠖ｹ蜑ｲ

| 蜷咲ｧｰ | 菴咲ｽｮ | 蠖ｹ蜑ｲ |
| --- | --- | --- |
| `App` | `frontend/src/App.tsx` | UI 蜈ｨ菴薙ｒ邨ｱ諡ｬ縺吶ｋ繧ｳ繝ｳ繝昴・繝阪Φ繝医ょ・蜉帙ヵ繧ｩ繝ｼ繝縲∫ｵ先棡繝代ロ繝ｫ縲∝ｱ･豁ｴ縲√ョ繝舌ャ繧ｰ陦ｨ遉ｺ繧偵∪縺ｨ繧√※邂｡逅・|
| `FilePreviewList` | `App.tsx` 蜀・| 驕ｸ謚槭＆繧後◆繝輔ぃ繧､繝ｫ縺ｮ荳隕ｧ縺ｨ邱上し繧､繧ｺ陦ｨ遉ｺ縲√け繝ｪ繧｢謫堺ｽ懊ｒ謠蝉ｾ・|
| `PhaseTimeline` | `App.tsx` 蜀・| 繧ｵ繝ｼ繝舌・縺九ｉ霑斐▲縺ｦ縺上ｋ繝輔ぉ繝ｼ繧ｺ迥ｶ諷九ｒ繧ｿ繧､繝繝ｩ繧､繝ｳ陦ｨ遉ｺ |
| `OutputList` | `App.tsx` 蜀・| 逕滓・繝輔ぃ繧､繝ｫ縺ｮ譛臥┌繧・・髢九ヱ繧ｹ繧剃ｸ隕ｧ陦ｨ遉ｺ |
| `HistoryList` | `App.tsx` 蜀・| 驕主悉縺ｮ螳溯｡悟ｱ･豁ｴ繧堤ｰ｡譏楢｡ｨ遉ｺ縺励※蜀榊盾辣ｧ繧貞庄閭ｽ縺ｫ縺吶ｋ |
| `PlanView` / `RawJsonViewer` | `App.tsx` 蜀・| 逕滓・縺輔ｌ縺溘・繝ｩ繝ｳ繧・ョ繝舌ャ繧ｰ逕ｨ縺ｮ JSON 繧呈紛蠖｢蜃ｺ蜉・|
| `main.tsx` | `frontend/src/main.tsx` | 繝ｫ繝ｼ繝郁ｦ∫ｴ縺ｸ縺ｮ `App` 繝槭え繝ｳ繝医・縺ｿ諡・ｽ・|
| `styles.css` | `frontend/src/styles.css` | UI 繝ｬ繧､繧｢繧ｦ繝医ｄ迥ｶ諷九↓蠢懊§縺溘せ繧ｿ繧､繝ｫ螳夂ｾｩ |

## 3. 騾∽ｿ｡縺九ｉ陦ｨ遉ｺ縺ｾ縺ｧ縺ｮ蜻ｼ縺ｳ蜃ｺ縺鈴未菫ゑｼ育ｰ｡譏薙・繝・・・・

```
main.tsx
 笏披楳 <App />
     笏懌楳 handleSubmit(form submission)
     笏・  笏懌楳 fetch('/api/tasks', FormData)
     笏・  笏懌楳 setHistory([...])
     笏・  笏披楳 setError / setIsSubmitting
     笏懌楳 ResultPanel・磯未謨ｰ蜀・Ο繝ｼ繧ｫ繝ｫ繧ｳ繝ｳ繝昴・繝阪Φ繝茨ｼ・
     笏・  笏懌楳 PhaseTimeline
     笏・  笏懌楳 OutputList
     笏・  笏披楳 DebugDrawer (髢狗匱譎・
     笏披楳 HistoryList・磯℃蜴ｻ邨先棡縺ｮ蜀崎｡ｨ遉ｺ・・
```

## 4. 陬懆ｶｳ

- `fetch` 縺ｮ繧ｨ繝ｩ繝ｼ繝上Φ繝峨Μ繝ｳ繧ｰ縺ｧ縺ｯ繝ｬ繧ｹ繝昴Φ繧ｹ譛ｬ譁・′ JSON 縺ｧ縺ｪ縺上※繧・graceful 縺ｫ蜃ｦ逅・〒縺阪ｋ繧医≧ `response.json().catch(() => null)` 縺ｨ縺励※縺・∪縺吶・ 
- 螻･豁ｴ繧ｹ繝・・繝医↓縺ｯ繝ｦ繝ｼ繧ｶ繝ｼ蜈･蜉帶凾轤ｹ縺ｮ繝輔ぃ繧､繝ｫ諠・ｱ繧ゆｿ晄戟縺励※縺・ｋ縺溘ａ縲～dryRun` 縺ｧ螳溯｡後＠縺ｦ繧ょ・繝・・繧ｿ繧呈険繧願ｿ斐ｌ繧区ｧ矩縺ｧ縺吶・ 
- 繝輔Ο繝ｳ繝医お繝ｳ繝峨〒菴ｿ逕ｨ縺吶ｋ譁・ｭ怜・縺ｯ闍ｱ隱槭′荳ｭ蠢・〒縺吶′縲∝ｿ・ｦ√↓蠢懊§縺ｦ i18n 蛹悶＠繧・☆縺・ｈ縺・Θ繝ｼ繝・ぅ繝ｪ繝・ぅ髢｢謨ｰ繧貞・髮｢縺吶ｋ菴吝慍縺後≠繧翫∪縺吶・

---

縺薙・雉・侭繧定ｵｷ轤ｹ縺ｫ `App.tsx` 蜀・・陬懷勧髢｢謨ｰ繧定ｾｿ繧九→縲√Θ繝ｼ繧ｶ繝ｼ謫堺ｽ懊°繧峨し繝ｼ繝舌・騾｣謳ｺ縺ｾ縺ｧ縺ｮ豬√ｌ繧偵☆縺ｰ繧・￥霑ｽ縺・％縺ｨ縺後〒縺阪∪縺吶・
